/* Main container */
body {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    overflow-x: hidden;
    /* Prevent horizontal scroll */
    overflow-y: auto;
}

/* Navbar container - Only apply if NOT inside #navbar */
body:not(:has(#navbar)) .navbar,
.navbar:not(#navbar) {
    flex-shrink: 0;
    width: 100%;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
}

/* Container fluid - Adjust to fit within navbar boundaries */
.container-fluid {
    flex: 1;
    width: 100%;
    max-width: 100%;
    margin-left: auto;
    margin-right: auto;
    padding: 1rem;
    padding-top: 70px;
    /* Space for navbar (64px + buffer) */
    position: relative;
    /* Removed z-index: 1 - it was creating a stacking context that trapped modals */
    /* Important: avoid nested vertical scrolling (body should be the only scroll container) */
    overflow-y: visible;
    box-sizing: border-box;
    /* Include padding in width calculation */
}

/* ==========================================================================
   Page Header - 2026 Glass/Neumorphic Style
   ========================================================================== */
.page-header {
    margin-bottom: 1rem;
    margin-top: -40px;
    text-align: center;
    padding: 12px 32px;
    position: relative;
    z-index: 1;
    width: 100%;
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.9) 0%, 
        rgba(248, 250, 252, 0.95) 100%);
    border-radius: 20px;
    box-shadow: 
        0 8px 32px rgba(79, 140, 255, 0.08),
        0 2px 8px rgba(0, 0, 0, 0.04),
        inset 0 1px 0 rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid rgba(255, 255, 255, 0.6);
    overflow: hidden;
}

.page-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(79, 140, 255, 0.3) 50%, 
        transparent 100%);
}

.page-header h1,
.page-header h2 {
    font-weight: 600;
    letter-spacing: -0.02em;
    margin-bottom: 8px;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
    position: relative;
    line-height: 1.3;
}

.header-underline {
    height: 3px;
    width: 60px;
    background: linear-gradient(90deg, 
        #4f8cff 0%, 
        rgba(79, 140, 255, 0.6) 100%);
    margin: 8px auto 0;
    border-radius: 3px;
    box-shadow: 0 2px 8px rgba(79, 140, 255, 0.3);
    transition: width 0.2s ease, box-shadow 0.2s ease;
}

.page-header:hover .header-underline {
    width: 80px;
    box-shadow: 0 4px 12px rgba(79, 140, 255, 0.4);
}

/* ==========================================================================
   Section Headers - 2026 Glass/Neumorphic Style
   ========================================================================== */
.summary-section h3,
.section-title-glass {
    display: inline-block;
    width: 100%;
    text-align: center;
    padding: 14px 24px;
    margin-bottom: 1rem;
    font-weight: 600;
    letter-spacing: -0.02em;
    background: linear-gradient(135deg, 
        rgba(255, 255, 255, 0.85) 0%, 
        rgba(248, 250, 252, 0.9) 100%);
    border-radius: 14px;
    box-shadow: 
        0 4px 20px rgba(79, 140, 255, 0.06),
        0 1px 4px rgba(0, 0, 0, 0.03),
        inset 0 1px 0 rgba(255, 255, 255, 0.7);
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    border: 1px solid rgba(255, 255, 255, 0.5);
    position: relative;
}

.summary-section h3::after,
.section-title-glass::after {
    content: '';
    display: block;
    height: 3px;
    width: 50px;
    background: linear-gradient(90deg, 
        #4f8cff 0%, 
        rgba(79, 140, 255, 0.5) 100%);
    margin: 10px auto 0;
    border-radius: 3px;
    box-shadow: 0 2px 6px rgba(79, 140, 255, 0.25);
    transition: width 0.2s ease;
}

.summary-section h3:hover::after,
.section-title-glass:hover::after {
    width: 70px;
}

/* Dark mode - Page Header */
[data-theme='dark'] .page-header {
    background: linear-gradient(135deg, 
        rgba(26, 32, 44, 0.9) 0%, 
        rgba(20, 25, 35, 0.95) 100%);
    box-shadow: 
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 2px 8px rgba(0, 0, 0, 0.2),
        inset 0 1px 0 rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.08);
}

[data-theme='dark'] .page-header::before {
    background: linear-gradient(90deg, 
        transparent 0%, 
        rgba(79, 140, 255, 0.2) 50%, 
        transparent 100%);
}

[data-theme='dark'] .page-header h1,
[data-theme='dark'] .page-header h2 {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

/* Dark mode - Section Headers */
[data-theme='dark'] .summary-section h3,
[data-theme='dark'] .section-title-glass {
    background: linear-gradient(135deg, 
        rgba(26, 32, 44, 0.85) 0%, 
        rgba(20, 25, 35, 0.9) 100%);
    box-shadow: 
        0 4px 20px rgba(0, 0, 0, 0.25),
        0 1px 4px rgba(0, 0, 0, 0.15),
        inset 0 1px 0 rgba(255, 255, 255, 0.04);
    border: 1px solid rgba(255, 255, 255, 0.06);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);
}

/* Ensure content stays within boundaries */
.unified-frames-container {
    width: 100%;
    max-width: 100%;
    margin: var(--space-sm, 0.5rem) auto;
    padding: 0 var(--space-md, 0.875rem);
    box-sizing: border-box;
}

/* Container Layouts */
.container {
    margin: var(--space-lg, 1rem) auto;
    padding: var(--space-lg, 1.25rem);
    background-color: #ffffff;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
    max-width: var(--container-max-fhd, 1800px);
    width: 94%;
    animation: fadeIn 0.8s ease-in-out;
}

/* Split Layout */
.split-layout {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    width: 100%;
    margin: 0 auto;
}

/* Frame Layouts */
.unified-frames-container {
    margin-top: 0.5rem;
    margin-bottom: 1rem;
    overflow: visible;
}

.input-frame,
.action-frame {
    padding: var(--frame-padding, 1.25rem);
    background: #ffffff;
    border-radius: var(--frame-border-radius, 8px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    position: relative;
}

.frame-title {
    font-weight: 600;
    margin-bottom: 1rem;
    color: #333;
    font-size: 1rem;
}

/* Ensure consistent spacing between frames */
.unified-frames-container+.unified-frames-container {
    margin-top: 2rem;
}

/* Add margin to content below navbar */
.mt-4 {
    margin-top: 0.5rem !important;
}